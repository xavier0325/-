{"version":3,"sources":["webpack:///./node_modules/echarts/extension/bmap/BMapCoordSys.js","webpack:///./node_modules/echarts/extension/bmap/BMapModel.js","webpack:///./node_modules/echarts/extension/bmap/BMapView.js","webpack:///./node_modules/echarts/extension/bmap/bmap.js","webpack:///src/components/echarts/hostMap.vue","webpack:///./src/components/echarts/hostMap.vue?9573","webpack:///./src/components/echarts/hostMap.vue"],"names":["Overlay","BMapCoordSys","bmap","api","this","_bmap","dimensions","_mapOffset","_api","_projection","BMap","MercatorProjection","dataToCoordSize","dataSize","dataItem","echarts","map","dimIdx","val","halfSize","p1","p2","Math","abs","dataToPoint","prototype","setZoom","zoom","_zoom","setCenter","center","_center","lngLatToPoint","Point","setMapOffset","mapOffset","getBMap","data","point","px","pointToOverlayPixel","x","y","pointToData","pt","overlayPixelToPoint","lng","lat","getViewRect","BoundingRect","getWidth","getHeight","getRoamTransform","create","prepareCustoms","rect","coordSys","type","width","height","coord","bind","size","ecModel","bmapCoordSys","root","getDom","eachComponent","bmapModel","painter","getZr","viewportRoot","getViewportRoot","Error","_root","initialize","getPanes","labelPane","appendChild","draw","createOverlayCtor","__bmap","bmapRoot","querySelector","style","left","top","removeChild","document","createElement","className","cssText","mapOptions","get","clone","mapType","Map","overlay","addOverlay","getViewportRootOffset","offsetLeft","offsetTop","bmapCenter","getCenter","bmapZoom","getZoom","centerOrZoomChanged","centerAndZoom","__mapOffset","coordinateSystem","eachSeries","seriesModel","bmap_BMapCoordSys","setCenterAndZoom","option","a","b","defaultOption","mapStyle","mapStyleV2","roam","isEmptyObject","obj","key","hasOwnProperty","render","bMapModel","rendering","moveHandler","target","offsetEl","parentNode","parseInt","viewportRootStyle","dispatchAction","animation","duration","zoomEndHandler","removeEventListener","_oldMoveHandler","_oldZoomEndHandler","addEventListener","enableDragging","disableDragging","enableScrollWheelZoom","enableDoubleClickZoom","enablePinchToZoom","disableScrollWheelZoom","disableDoubleClickZoom","disablePinchToZoom","originalStyle","__mapStyle","newMapStyle","mapStyleStr","JSON","stringify","setMapStyle","parse","originalStyle2","__mapStyle2","newMapStyle2","mapStyleStr2","setMapStyleV2","event","update","payload","version","__webpack_require__","hostMap","position","overflow","hostmapData","chartObj","chartObj1","watch","geoCoordMap","convertData","res","i","length","fromCoord","name","toCoord","push","fromName","toName","coords","series","hostData","forEach","item","zlevel","effect","show","period","trailLength","color","symbolSize","lineStyle","curveness","opacity","rippleEffect","brushType","label","formatter","value","concat","itemStyle","tooltip","trigger","line1","seriesName","line2","componentSubType","arr","confine","appendToBody","silent","styleJson","featureType","elementType","stylers","visibility","lightness","option1","title","text","textStyle","textBorderColor","textBorderWidth","textShadowColor","textShadowBlur","legend","bottom","orient","min","max","minSize","maxSize","sort","gap","labelLine","borderColor","borderWidth","emphasis","fontSize","funnelData","setOption","getModel","getComponent","created","_this","$http","then","catch","error","console","log","mounted","hostmap","getElementById","window","innerWidth","innerHeight","myChart","$echarts","init","funnelContainer","myChart1","onresize","resize","echarts_hostMap","$createElement","_self","_c","_m","staticRenderFns","_h","attrs","id","_v","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"2GA6IAA,cA7FA,SAAAC,EAAAC,EAAAC,GACAC,KAAAC,MAAAH,EACAE,KAAAE,YAAA,aACAF,KAAAG,YAAA,KACAH,KAAAI,KAAAL,EACAC,KAAAK,YAAA,IAAAC,KAAAC,mBA0EA,SAAAC,EAAAC,EAAAC,GAEA,OADAA,MAAA,KACSC,EAAA,KAAMC,KAAA,cAAAC,GACf,IAAAC,EAAAJ,EAAAG,GACAE,EAAAN,EAAAI,GAAA,EACAG,KACAC,KAIA,OAHAD,EAAAH,GAAAC,EAAAC,EACAE,EAAAJ,GAAAC,EAAAC,EACAC,EAAA,EAAAH,GAAAI,EAAA,EAAAJ,GAAAH,EAAA,EAAAG,GACAK,KAAAC,IAAAnB,KAAAoB,YAAAJ,GAAAH,GAAAb,KAAAoB,YAAAH,GAAAJ,KACGb,MAlFHH,EAAAwB,UAAAnB,YAAA,aAEAL,EAAAwB,UAAAC,QAAA,SAAAC,GACAvB,KAAAwB,MAAAD,GAGA1B,EAAAwB,UAAAI,UAAA,SAAAC,GACA1B,KAAA2B,QAAA3B,KAAAK,YAAAuB,cAAA,IAAAtB,KAAAuB,MAAAH,EAAA,GAAAA,EAAA,MAGA7B,EAAAwB,UAAAS,aAAA,SAAAC,GACA/B,KAAAG,WAAA4B,GAGAlC,EAAAwB,UAAAW,QAAA,WACA,OAAAhC,KAAAC,OAGAJ,EAAAwB,UAAAD,YAAA,SAAAa,GACA,IAAAC,EAAA,IAAA5B,KAAAuB,MAAAI,EAAA,GAAAA,EAAA,IAUAE,EAAAnC,KAAAC,MAAAmC,oBAAAF,GAEAH,EAAA/B,KAAAG,WACA,OAAAgC,EAAAE,EAAAN,EAAA,GAAAI,EAAAG,EAAAP,EAAA,KAGAlC,EAAAwB,UAAAkB,YAAA,SAAAC,GACA,IAAAT,EAAA/B,KAAAG,WAKA,QAJAqC,EAAAxC,KAAAC,MAAAwC,qBACAJ,EAAAG,EAAA,GAAAT,EAAA,GACAO,EAAAE,EAAA,GAAAT,EAAA,MAEAW,IAAAF,EAAAG,MAGA9C,EAAAwB,UAAAuB,YAAA,WACA,IAAA7C,EAAAC,KAAAI,KACA,WAAaO,EAAA,QAAOkC,aAAA,IAAA9C,EAAA+C,WAAA/C,EAAAgD,cAGpBlD,EAAAwB,UAAA2B,iBAAA,WACA,OAASrC,EAAA,OAAMsC,UAGfpD,EAAAwB,UAAA6B,eAAA,WACA,IAAAC,EAAAnD,KAAA4C,cACA,OACAQ,UAEAC,KAAA,OACAhB,EAAAc,EAAAd,EACAC,EAAAa,EAAAb,EACAgB,MAAAH,EAAAG,MACAC,OAAAJ,EAAAI,QAEAxD,KACAyD,MAAa7C,EAAA,KAAM8C,KAAAzD,KAAAoB,YAAApB,MACnB0D,KAAY/C,EAAA,KAAM8C,KAAAjD,EAAAR,SAqBlBH,EAAAK,WAAAL,EAAAwB,UAAAnB,WA6BAL,EAAAoD,OAAA,SAAAU,EAAA5D,GACA,IAAA6D,EACAC,EAAA9D,EAAA+D,SAEAH,EAAAI,cAAA,gBAAAC,GACA,IAaAlE,EAbAmE,EAAAlE,EAAAmE,QAAAD,QACAE,EAAAF,EAAAG,kBAEA,uBAAA9D,KACA,UAAA+D,MAAA,0BAKA,GAFAzE,KAvCA,WACA,SAAAA,EAAAiE,GACA7D,KAAAsE,MAAAT,EAsBA,OAnBAjE,EAAAyB,UAAA,IAAAf,KAAAV,QAQAA,EAAAyB,UAAAkD,WAAA,SAAA3D,GAEA,OADAA,EAAA4D,WAAAC,UAAAC,YAAA1E,KAAAsE,OACAtE,KAAAsE,OAOA1E,EAAAyB,UAAAsD,KAAA,aAEA/E,EAeAgF,GAEAhB,EACA,UAAAS,MAAA,qCAKA,IAAAL,EAAAa,OAAA,CAEA,IAAAC,EAAAjB,EAAAkB,cAAA,sBAEAD,IAGAX,EAAAa,MAAAC,KAAA,MACAd,EAAAa,MAAAE,IAAA,MACArB,EAAAsB,YAAAL,KAGAA,EAAAM,SAAAC,cAAA,QACAC,UAAA,oBAEAR,EAAAE,MAAAO,QAAA,2CACA1B,EAAAa,YAAAI,GAEA,IAAAU,EAAAxB,EAAAyB,IAAA,cAEAD,UACAA,EAAqB7E,EAAA,KAAM+E,MAAAF,IAE3BG,QAGA7F,EAAAkE,EAAAa,OAAA,IAAAvE,KAAAsF,IAAAd,EAAAU,GACA,IAAAK,EAAA,IAAAjG,EAAAuE,GACArE,EAAAgG,WAAAD,GAEA5B,EAAA8B,sBAAA,WACA,OACAC,WAAA,EACAC,UAAA,IAKAnG,EAAAkE,EAAAa,OAGA,IAAAnD,EAAAsC,EAAAyB,IAAA,UACAlE,EAAAyC,EAAAyB,IAAA,QAEA,GAAA/D,GAAAH,EAAA,CACA,IAAA2E,EAAApG,EAAAqG,YACAC,EAAAtG,EAAAuG,UAGA,GAFArC,EAAAsC,qBAAAJ,EAAAxD,IAAAwD,EAAAvD,KAAAyD,GAEA,CACA,IAAA5D,EAAA,IAAAlC,KAAAuB,MAAAH,EAAA,GAAAA,EAAA,IACA5B,EAAAyG,cAAA/D,EAAAjB,KAIAqC,EAAA,IAAA/D,EAAAC,EAAAC,IACA+B,aAAAkC,EAAAwC,cAAA,MACA5C,EAAAtC,QAAAC,GACAqC,EAAAnC,UAAAC,GACAsC,EAAAyC,iBAAA7C,IAEAD,EAAA+C,WAAA,SAAAC,GACA,SAAAA,EAAAlB,IAAA,sBACAkB,EAAAF,iBAAA7C,MAKe,IAAAgD,EAAA,EClNAjG,EAAA,sBACf0C,KAAA,OACArB,QAAA,WAEA,OAAAhC,KAAA6E,QAEAgC,iBAAA,SAAAnF,EAAAH,GACAvB,KAAA8G,OAAApF,SACA1B,KAAA8G,OAAAvF,QAEA+E,oBAAA,SAAA5E,EAAAH,GACA,IAfAwF,EAAAC,EAeAF,EAAA9G,KAAA8G,OACA,OAhBAC,EAgBArF,EAhBAsF,EAgBAF,EAAApF,SAfAqF,GAAAC,GAAAD,EAAA,KAAAC,EAAA,IAAAD,EAAA,KAAAC,EAAA,IAeAzF,IAAAuF,EAAAvF,OAEA0F,eACAvF,QAAA,sBACAH,KAAA,EAEA2F,YAEAC,cAEA3B,cACA4B,MAAA,KC3BA,SAAAC,EAAAC,GACA,QAAAC,KAAAD,EACA,GAAAA,EAAAE,eAAAD,GACA,SAIA,SAGe5G,EAAA,qBACf0C,KAAA,OACAoE,OAAA,SAAAC,EAAA/D,EAAA5D,GACA,IAAA4H,GAAA,EACA7H,EAAA4H,EAAA1F,UACAmC,EAAApE,EAAAmE,QAAAD,QAAAG,kBACAhB,EAAAsE,EAAAjB,iBAEAmB,EAAA,SAAAvE,EAAAwE,GACA,IAAAF,EAAA,CAIA,IAAAG,EAAA3D,EAAA4D,iCACAhG,IAAAiG,SAAAF,EAAA9C,MAAAC,KAAA,QAAA+C,SAAAF,EAAA9C,MAAAE,IAAA,QAEA+C,EAAA9D,EAAAa,MACAgB,EAAAjE,EAAA,QACAkE,EAAAlE,EAAA,QAEAkG,EAAAhD,OAAAe,IACAiC,EAAAhD,KAAAe,GAGAiC,EAAA/C,MAAAe,IACAgC,EAAA/C,IAAAe,GAGA7C,EAAAtB,aAAAC,GACA2F,EAAAlB,YAAAzE,EACAhC,EAAAmI,gBACA7E,KAAA,WACA8E,WACAC,SAAA,OAKA,SAAAC,IACAV,GAIA5H,EAAAmI,gBACA7E,KAAA,WACA8E,WACAC,SAAA,KAKAtI,EAAAwI,oBAAA,SAAAtI,KAAAuI,iBACAzI,EAAAwI,oBAAA,UAAAtI,KAAAuI,iBACAzI,EAAAwI,oBAAA,UAAAtI,KAAAwI,oBACA1I,EAAA2I,iBAAA,SAAAb,GACA9H,EAAA2I,iBAAA,UAAAb,GACA9H,EAAA2I,iBAAA,UAAAJ,GACArI,KAAAuI,gBAAAX,EACA5H,KAAAwI,mBAAAH,EACA,IAAAjB,EAAAM,EAAAjC,IAAA,QAEA2B,GAAA,UAAAA,EACAtH,EAAA4I,iBAEA5I,EAAA6I,kBAGAvB,GAAA,SAAAA,GACAtH,EAAA8I,wBACA9I,EAAA+I,wBACA/I,EAAAgJ,sBAEAhJ,EAAAiJ,yBACAjJ,EAAAkJ,yBACAlJ,EAAAmJ,sBAKA,IAAAC,EAAAxB,EAAAyB,WACAC,EAAA1B,EAAAjC,IAAA,gBAEA4D,EAAAC,KAAAC,UAAAH,GAEAE,KAAAC,UAAAL,KAAAG,IAEAhC,EAAA+B,IACAtJ,EAAA0J,YAAyB7I,EAAA,KAAY+E,MAAA0D,IAGrC1B,EAAAyB,WAAAG,KAAAG,MAAAJ,IAKA,IAAAK,EAAAhC,EAAAiC,YACAC,EAAAlC,EAAAjC,IAAA,kBAEAoE,EAAAP,KAAAC,UAAAK,GAEAN,KAAAC,UAAAG,KAAAG,IAEAxC,EAAAuC,IACA9J,EAAAgK,cAA2BnJ,EAAA,KAAY+E,MAAAkE,IAGvClC,EAAAiC,YAAAL,KAAAG,MAAAI,IAGAlC,GAAA,2CCjHAhH,EAAA,yBAAgC,OAASiG,GAEzCjG,EAAA,gBACA0C,KAAA,WACA0G,MAAA,WACAC,OAAA,gBACC,SAAAC,EAAAtG,GACDA,EAAAI,cAAA,gBAAA2D,GACA,IAAA5H,EAAA4H,EAAA1F,UACAN,EAAA5B,EAAAqG,YACAuB,EAAAb,kBAAAnF,EAAAgB,IAAAhB,EAAAiB,KAAA7C,EAAAuG,eAGO,IAAA6D,EAAA,qHCzDPC,EAAA,QACA,IAAAC,GACAnI,KADA,WAEA,OACA+C,OACA1B,MAAA,OACAC,OAAA,OACA8G,SAAA,WACAC,SAAA,UAEAC,eACAC,YACAC,eAGAC,OACAH,YAAA,SAAAzJ,GAGA,IAAA6J,EAAA7J,EAAA6J,YAEAC,EAAA,SAAA3I,GAEA,IADA,IAAA4I,KACAC,EAAA,EAAAA,EAAA7I,EAAA8I,OAAAD,IAAA,CACA,IAAApK,EAAAuB,EAAA6I,GACAE,EAAAL,EAAAjK,EAAA,GAAAuK,MACAC,EAAAP,EAAAjK,EAAA,GAAAuK,MACAD,GAAAE,GACAL,EAAAM,MACAC,SAAA1K,EAAA,GAAAuK,KACAI,OAAA3K,EAAA,GAAAuK,KACAK,QAAAN,EAAAE,KAIA,OAAAL,GAEAU,OACA,OAlBAzK,EAAA0K,WAkBAC,QAAA,SAAAC,EAAAZ,GAOAS,EAAAJ,MAEAF,KAAAS,EAAA,GACArI,KAAA,QACAoD,iBAAA,OACAkF,OAAA,EACAC,QACAC,MAAA,EACAC,OAAA,EACAC,YAAA,GACAC,MAAA,UACAC,WAAA,GAEAC,WAEAF,MAAA,UACA1I,MAAA,EACA6I,UAAA,IAGAlK,KAAA2I,EAAAc,EAAA,MAGAT,KAAAS,EAAA,GACArI,KAAA,QACAoD,iBAAA,OACAkF,OAAA,EACAC,QACAC,MAAA,EACAC,OAAA,EACAC,YAAA,GAEAG,WAEAF,MAAA,UACA1I,MAAA,EACA8I,QAAA,GACAD,UAAA,IAGAlK,KAAA2I,EAAAc,EAAA,MAGAT,KAAA,OACA5H,KAAA,gBACAoD,iBAAA,OACAkF,OAAA,EACAU,cAEAC,UAAA,UAEAC,OAGAV,MAAA,EACAxB,SAAA,QACAmC,UAAA,OAGAP,WAAA,SAAAnL,GACA,OAAAA,EAAA,MAEAmB,KAAAyJ,EAAA,GAAA9K,IAAA,SAAAF,GACA,OACAuK,KAAAvK,EAAA,GAAAuK,KACAwB,MAAA9B,EAAAjK,EAAA,GAAAuK,MAAAyB,QACAhM,EAAA,GAAA+L,QAEAE,WAEAX,MAAAtL,EAAA,GAAAsL,cASA,IAAAlF,GACA8F,SACAC,QAAA,OAEAL,UAAA,SAAAvK,GAEA,IAEA4I,EAFAiC,EAAA7K,EAAA8K,WAAA,QACAC,EAAA,OAAA/K,EAAAgJ,KAAA,QAEA,YAAAhJ,EAAAgL,iBACApC,EAAA,OACA,CACA,IAAAqC,EAAAvC,EAAA1I,EAAAgJ,MAGAJ,EAAAiC,EAAAE,GAFA,OAAAE,EAAA,OAAAA,EAAA,aACA,SAAAjL,EAAAwK,MAAA,IAGA,OAAA5B,GAEAsC,SAAA,EACAC,cAAA,GAEAtN,MACAsH,MAAA,EACAiG,QAAA,EACAnG,UACAoG,YAEAC,YAAA,QACAC,YAAA,MACAC,SACAzB,MAAA,aAIAuB,YAAA,OACAC,YAAA,WACAC,SACAzB,MAAA,aAIAuB,YAAA,UACAC,YAAA,MACAC,SACAC,WAAA,SAIAH,YAAA,WACAC,YAAA,gBACAC,SACAzB,MAAA,aAIAuB,YAAA,WACAC,YAAA,kBACAC,SACAzB,MAAA,aAIAuB,YAAA,QACAC,YAAA,WACAC,SACAzB,MAAA,aAIAuB,YAAA,UACAC,YAAA,gBACAC,SACAzB,MAAA,aAIAuB,YAAA,UACAC,YAAA,kBACAC,SACAzB,MAAA,aAIAuB,YAAA,SACAC,YAAA,WACAC,SACAE,WAAA,MAIAJ,YAAA,WACAC,YAAA,gBACAC,SACAzB,MAAA,aAIAuB,YAAA,MACAC,YAAA,mBACAC,SACAzB,MAAA,aAIAuB,YAAA,MACAC,YAAA,qBACAC,SACAzB,MAAA,aAIAuB,YAAA,WACAC,YAAA,WACAC,SACAzB,MAAA,aAIAuB,YAAA,QACAC,YAAA,WACAC,SACAzB,MAAA,aAIAuB,YAAA,WACAC,YAAA,MACAC,SACAzB,MAAA,aAIAuB,YAAA,UACAC,YAAA,MACAC,SACAzB,MAAA,aAIAuB,YAAA,QACAC,YAAA,MACAC,SACAC,WAAA,SAIAH,YAAA,MACAC,YAAA,MACAC,SACAzB,MAAA,UACA0B,WAAA,WAMAnC,UAGAqC,GACAC,OACAC,KAAA,UACA7I,KAAA,SACAC,IAAA,KACA6I,WACA/B,MAAA,OACAgC,gBAAA,UACAC,gBAAA,IACAC,gBAAA,UACAC,eAAA,IAGAvB,SACAC,QAAA,OACAL,UAAA,uBAEA4B,QACAvC,MAAA,EACAwC,OAAA,EACApJ,KAAA,KACA8I,WACA/B,MAAA,QAEAsC,OAAA,YAEA/C,SAEAN,KAAA,UACA5H,KAAA,SACA4B,KAAA,MACAoJ,OAAA,EACA/K,MAAA,MACAiL,IAAA,EACAC,IAAA,IACAC,QAAA,KACAC,QAAA,OACAC,KAAA,aACAC,IAAA,EACArC,OACAV,MAAA,EACAxB,SAAA,QACA0D,WACA/B,MAAA,OACAgC,gBAAA,OACAC,gBAAA,IACAC,gBAAA,OACAC,eAAA,IAGAU,WACA9D,OAAA,GACAmB,WACA5I,MAAA,EACAD,KAAA,UAGAsJ,WACAmC,YAAA,OACAC,YAAA,GAEAC,UACAzC,OACA0C,SAAA,KAGAhN,KAAAnB,EAAAoO,cAKAlP,KAAAwK,SAAA2E,UAAArI,GACA9G,KAAAyK,UAAA0E,UAAAvB,GACA,IAAAhN,EAAAZ,KAAAwK,SAAA4E,WAAAC,aAAA,QAAArN,UACApB,EAAAoI,yBACApI,EAAA2F,cAAA,IAAAjG,KAAAuB,MAAA,4BAGAyN,QAzWA,WA0WA,IAAAC,EAAAvP,KACAA,KAAAwP,MACA/J,IAAA,sCACAgK,KAAA,SAAA5E,GACA0E,EAAAhF,YAAAM,EAAA5I,KAAAsI,cAGAmF,MAAA,SAAAC,GACAC,QAAAC,IAAAF,MAGAG,QArXA,WAsXA,IAAAC,EAAA3K,SAAA4K,eAAA,WACAD,EAAA/K,MAAA1B,MAAA2M,OAAAC,WAAA,KACAH,EAAA/K,MAAAzB,OAAA,GAAA0M,OAAAE,YAAA,KACA,IAAAC,EAAApQ,KAAAqQ,SAAAC,KAAAP,GACAQ,EAAAnL,SAAA4K,eAAA,mBACAQ,EAAAxQ,KAAAqQ,SAAAC,KAAAC,GACAvQ,KAAAwK,SAAA4F,EACApQ,KAAAyK,UAAA+F,EAKAP,OAAAQ,SAAA,WACAL,EAAAM,YCzYeC,GADElJ,OAFjB,WAA0BzH,KAAa4Q,eAAb5Q,KAAuC6Q,MAAAC,GAAwB,OAA/D9Q,KAA+D+Q,GAAA,IAExEC,iBADjB,WAAoC,IAAaC,EAAbjR,KAAa4Q,eAA0BE,EAAvC9Q,KAAuC6Q,MAAAC,IAAAG,EAAwB,OAAAH,EAAA,OAAAA,EAAA,OAA2BI,OAAOC,GAAA,aAAjGnR,KAAiHoR,GAAA,KAAAN,EAAA,OAAwBI,OAAOC,GAAA,0BCEpL,IAcAE,EAdyBlH,EAAQ,OAcjCmH,CACElH,EACAuG,GATF,EAVA,SAAAY,GACEpH,EAAQ,SAaV,kBAEA,MAUeqH,EAAA,QAAAH,EAAiB","file":"static/js/5.e282976aaedd6fad0863.js","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\n\n/* global BMap */\nimport { util as zrUtil, graphic, matrix } from 'echarts';\n\nfunction BMapCoordSys(bmap, api) {\n  this._bmap = bmap;\n  this.dimensions = ['lng', 'lat'];\n  this._mapOffset = [0, 0];\n  this._api = api;\n  this._projection = new BMap.MercatorProjection();\n}\n\nBMapCoordSys.prototype.dimensions = ['lng', 'lat'];\n\nBMapCoordSys.prototype.setZoom = function (zoom) {\n  this._zoom = zoom;\n};\n\nBMapCoordSys.prototype.setCenter = function (center) {\n  this._center = this._projection.lngLatToPoint(new BMap.Point(center[0], center[1]));\n};\n\nBMapCoordSys.prototype.setMapOffset = function (mapOffset) {\n  this._mapOffset = mapOffset;\n};\n\nBMapCoordSys.prototype.getBMap = function () {\n  return this._bmap;\n};\n\nBMapCoordSys.prototype.dataToPoint = function (data) {\n  var point = new BMap.Point(data[0], data[1]); // TODO mercator projection is toooooooo slow\n  // let mercatorPoint = this._projection.lngLatToPoint(point);\n  // let width = this._api.getZr().getWidth();\n  // let height = this._api.getZr().getHeight();\n  // let divider = Math.pow(2, 18 - 10);\n  // return [\n  //     Math.round((mercatorPoint.x - this._center.x) / divider + width / 2),\n  //     Math.round((this._center.y - mercatorPoint.y) / divider + height / 2)\n  // ];\n\n  var px = this._bmap.pointToOverlayPixel(point);\n\n  var mapOffset = this._mapOffset;\n  return [px.x - mapOffset[0], px.y - mapOffset[1]];\n};\n\nBMapCoordSys.prototype.pointToData = function (pt) {\n  var mapOffset = this._mapOffset;\n  pt = this._bmap.overlayPixelToPoint({\n    x: pt[0] + mapOffset[0],\n    y: pt[1] + mapOffset[1]\n  });\n  return [pt.lng, pt.lat];\n};\n\nBMapCoordSys.prototype.getViewRect = function () {\n  var api = this._api;\n  return new graphic.BoundingRect(0, 0, api.getWidth(), api.getHeight());\n};\n\nBMapCoordSys.prototype.getRoamTransform = function () {\n  return matrix.create();\n};\n\nBMapCoordSys.prototype.prepareCustoms = function () {\n  var rect = this.getViewRect();\n  return {\n    coordSys: {\n      // The name exposed to user is always 'cartesian2d' but not 'grid'.\n      type: 'bmap',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    api: {\n      coord: zrUtil.bind(this.dataToPoint, this),\n      size: zrUtil.bind(dataToCoordSize, this)\n    }\n  };\n};\n\nfunction dataToCoordSize(dataSize, dataItem) {\n  dataItem = dataItem || [0, 0];\n  return zrUtil.map([0, 1], function (dimIdx) {\n    var val = dataItem[dimIdx];\n    var halfSize = dataSize[dimIdx] / 2;\n    var p1 = [];\n    var p2 = [];\n    p1[dimIdx] = val - halfSize;\n    p2[dimIdx] = val + halfSize;\n    p1[1 - dimIdx] = p2[1 - dimIdx] = dataItem[1 - dimIdx];\n    return Math.abs(this.dataToPoint(p1)[dimIdx] - this.dataToPoint(p2)[dimIdx]);\n  }, this);\n}\n\nvar Overlay; // For deciding which dimensions to use when creating list data\n\nBMapCoordSys.dimensions = BMapCoordSys.prototype.dimensions;\n\nfunction createOverlayCtor() {\n  function Overlay(root) {\n    this._root = root;\n  }\n\n  Overlay.prototype = new BMap.Overlay();\n  /**\n   * 初始化\n   *\n   * @param {BMap.Map} map\n   * @override\n   */\n\n  Overlay.prototype.initialize = function (map) {\n    map.getPanes().labelPane.appendChild(this._root);\n    return this._root;\n  };\n  /**\n   * @override\n   */\n\n\n  Overlay.prototype.draw = function () {};\n\n  return Overlay;\n}\n\nBMapCoordSys.create = function (ecModel, api) {\n  var bmapCoordSys;\n  var root = api.getDom(); // TODO Dispose\n\n  ecModel.eachComponent('bmap', function (bmapModel) {\n    var painter = api.getZr().painter;\n    var viewportRoot = painter.getViewportRoot();\n\n    if (typeof BMap === 'undefined') {\n      throw new Error('BMap api is not loaded');\n    }\n\n    Overlay = Overlay || createOverlayCtor();\n\n    if (bmapCoordSys) {\n      throw new Error('Only one bmap component can exist');\n    }\n\n    var bmap;\n\n    if (!bmapModel.__bmap) {\n      // Not support IE8\n      var bmapRoot = root.querySelector('.ec-extension-bmap');\n\n      if (bmapRoot) {\n        // Reset viewport left and top, which will be changed\n        // in moving handler in BMapView\n        viewportRoot.style.left = '0px';\n        viewportRoot.style.top = '0px';\n        root.removeChild(bmapRoot);\n      }\n\n      bmapRoot = document.createElement('div');\n      bmapRoot.className = 'ec-extension-bmap'; // fix #13424\n\n      bmapRoot.style.cssText = 'position:absolute;width:100%;height:100%';\n      root.appendChild(bmapRoot); // initializes bmap\n\n      var mapOptions = bmapModel.get('mapOptions');\n\n      if (mapOptions) {\n        mapOptions = zrUtil.clone(mapOptions); // Not support `mapType`, use `bmap.setMapType(MapType)` instead.\n\n        delete mapOptions.mapType;\n      }\n\n      bmap = bmapModel.__bmap = new BMap.Map(bmapRoot, mapOptions);\n      var overlay = new Overlay(viewportRoot);\n      bmap.addOverlay(overlay); // Override\n\n      painter.getViewportRootOffset = function () {\n        return {\n          offsetLeft: 0,\n          offsetTop: 0\n        };\n      };\n    }\n\n    bmap = bmapModel.__bmap; // Set bmap options\n    // centerAndZoom before layout and render\n\n    var center = bmapModel.get('center');\n    var zoom = bmapModel.get('zoom');\n\n    if (center && zoom) {\n      var bmapCenter = bmap.getCenter();\n      var bmapZoom = bmap.getZoom();\n      var centerOrZoomChanged = bmapModel.centerOrZoomChanged([bmapCenter.lng, bmapCenter.lat], bmapZoom);\n\n      if (centerOrZoomChanged) {\n        var pt = new BMap.Point(center[0], center[1]);\n        bmap.centerAndZoom(pt, zoom);\n      }\n    }\n\n    bmapCoordSys = new BMapCoordSys(bmap, api);\n    bmapCoordSys.setMapOffset(bmapModel.__mapOffset || [0, 0]);\n    bmapCoordSys.setZoom(zoom);\n    bmapCoordSys.setCenter(center);\n    bmapModel.coordinateSystem = bmapCoordSys;\n  });\n  ecModel.eachSeries(function (seriesModel) {\n    if (seriesModel.get('coordinateSystem') === 'bmap') {\n      seriesModel.coordinateSystem = bmapCoordSys;\n    }\n  });\n};\n\nexport default BMapCoordSys;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/echarts/extension/bmap/BMapCoordSys.js\n// module id = null\n// module chunks = ","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport * as echarts from 'echarts';\n\nfunction v2Equal(a, b) {\n  return a && b && a[0] === b[0] && a[1] === b[1];\n}\n\nexport default echarts.extendComponentModel({\n  type: 'bmap',\n  getBMap: function () {\n    // __bmap is injected when creating BMapCoordSys\n    return this.__bmap;\n  },\n  setCenterAndZoom: function (center, zoom) {\n    this.option.center = center;\n    this.option.zoom = zoom;\n  },\n  centerOrZoomChanged: function (center, zoom) {\n    var option = this.option;\n    return !(v2Equal(center, option.center) && zoom === option.zoom);\n  },\n  defaultOption: {\n    center: [104.114129, 37.550339],\n    zoom: 5,\n    // 2.0 http://lbsyun.baidu.com/custom/index.htm\n    mapStyle: {},\n    // 3.0 http://lbsyun.baidu.com/index.php?title=open/custom\n    mapStyleV2: {},\n    // See https://lbsyun.baidu.com/cms/jsapi/reference/jsapi_reference.html#a0b1\n    mapOptions: {},\n    roam: false\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/echarts/extension/bmap/BMapModel.js\n// module id = null\n// module chunks = ","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport * as echarts from 'echarts';\n\nfunction isEmptyObject(obj) {\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport default echarts.extendComponentView({\n  type: 'bmap',\n  render: function (bMapModel, ecModel, api) {\n    var rendering = true;\n    var bmap = bMapModel.getBMap();\n    var viewportRoot = api.getZr().painter.getViewportRoot();\n    var coordSys = bMapModel.coordinateSystem;\n\n    var moveHandler = function (type, target) {\n      if (rendering) {\n        return;\n      }\n\n      var offsetEl = viewportRoot.parentNode.parentNode.parentNode;\n      var mapOffset = [-parseInt(offsetEl.style.left, 10) || 0, -parseInt(offsetEl.style.top, 10) || 0]; // only update style when map offset changed\n\n      var viewportRootStyle = viewportRoot.style;\n      var offsetLeft = mapOffset[0] + 'px';\n      var offsetTop = mapOffset[1] + 'px';\n\n      if (viewportRootStyle.left !== offsetLeft) {\n        viewportRootStyle.left = offsetLeft;\n      }\n\n      if (viewportRootStyle.top !== offsetTop) {\n        viewportRootStyle.top = offsetTop;\n      }\n\n      coordSys.setMapOffset(mapOffset);\n      bMapModel.__mapOffset = mapOffset;\n      api.dispatchAction({\n        type: 'bmapRoam',\n        animation: {\n          duration: 0\n        }\n      });\n    };\n\n    function zoomEndHandler() {\n      if (rendering) {\n        return;\n      }\n\n      api.dispatchAction({\n        type: 'bmapRoam',\n        animation: {\n          duration: 0\n        }\n      });\n    }\n\n    bmap.removeEventListener('moving', this._oldMoveHandler);\n    bmap.removeEventListener('moveend', this._oldMoveHandler);\n    bmap.removeEventListener('zoomend', this._oldZoomEndHandler);\n    bmap.addEventListener('moving', moveHandler);\n    bmap.addEventListener('moveend', moveHandler);\n    bmap.addEventListener('zoomend', zoomEndHandler);\n    this._oldMoveHandler = moveHandler;\n    this._oldZoomEndHandler = zoomEndHandler;\n    var roam = bMapModel.get('roam');\n\n    if (roam && roam !== 'scale') {\n      bmap.enableDragging();\n    } else {\n      bmap.disableDragging();\n    }\n\n    if (roam && roam !== 'move') {\n      bmap.enableScrollWheelZoom();\n      bmap.enableDoubleClickZoom();\n      bmap.enablePinchToZoom();\n    } else {\n      bmap.disableScrollWheelZoom();\n      bmap.disableDoubleClickZoom();\n      bmap.disablePinchToZoom();\n    }\n    /* map 2.0 */\n\n\n    var originalStyle = bMapModel.__mapStyle;\n    var newMapStyle = bMapModel.get('mapStyle') || {}; // FIXME, Not use JSON methods\n\n    var mapStyleStr = JSON.stringify(newMapStyle);\n\n    if (JSON.stringify(originalStyle) !== mapStyleStr) {\n      // FIXME May have blank tile when dragging if setMapStyle\n      if (!isEmptyObject(newMapStyle)) {\n        bmap.setMapStyle(echarts.util.clone(newMapStyle));\n      }\n\n      bMapModel.__mapStyle = JSON.parse(mapStyleStr);\n    }\n    /* map 3.0 */\n\n\n    var originalStyle2 = bMapModel.__mapStyle2;\n    var newMapStyle2 = bMapModel.get('mapStyleV2') || {}; // FIXME, Not use JSON methods\n\n    var mapStyleStr2 = JSON.stringify(newMapStyle2);\n\n    if (JSON.stringify(originalStyle2) !== mapStyleStr2) {\n      // FIXME May have blank tile when dragging if setMapStyle\n      if (!isEmptyObject(newMapStyle2)) {\n        bmap.setMapStyleV2(echarts.util.clone(newMapStyle2));\n      }\n\n      bMapModel.__mapStyle2 = JSON.parse(mapStyleStr2);\n    }\n\n    rendering = false;\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/echarts/extension/bmap/BMapView.js\n// module id = null\n// module chunks = ","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\n\n/**\n * BMap component extension\n */\nimport * as echarts from 'echarts';\nimport BMapCoordSys from './BMapCoordSys.js';\nimport './BMapModel.js';\nimport './BMapView.js';\necharts.registerCoordinateSystem('bmap', BMapCoordSys); // Action\n\necharts.registerAction({\n  type: 'bmapRoam',\n  event: 'bmapRoam',\n  update: 'updateLayout'\n}, function (payload, ecModel) {\n  ecModel.eachComponent('bmap', function (bMapModel) {\n    var bmap = bMapModel.getBMap();\n    var center = bmap.getCenter();\n    bMapModel.setCenterAndZoom([center.lng, center.lat], bmap.getZoom());\n  });\n});\nexport var version = '1.0.0';\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/echarts/extension/bmap/bmap.js\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <div id=\"hostMap\"></div>\r\n    <div id=\"funnelContainer\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nrequire(\"echarts/extension/bmap/bmap\");\r\nexport default {\r\n  data() {\r\n    return {\r\n      style: {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        position: \"absolute\",\r\n        overflow: \"hidden\",\r\n      },\r\n      hostmapData: {},\r\n      chartObj: {},\r\n      chartObj1: {},\r\n    };\r\n  },\r\n  watch: {\r\n    hostmapData: function (val) {\r\n      //异步请求的数据完成后肯定data里的该值发生了变化\r\n      //   console.log(val);\r\n      var geoCoordMap = val.geoCoordMap;\r\n      var Data = val.hostData;\r\n      var convertData = function (data) {\r\n        var res = [];\r\n        for (var i = 0; i < data.length; i++) {\r\n          var dataItem = data[i];\r\n          var fromCoord = geoCoordMap[dataItem[1].name];\r\n          var toCoord = geoCoordMap[dataItem[0].name];\r\n          if (fromCoord && toCoord) {\r\n            res.push({\r\n              fromName: dataItem[0].name,\r\n              toName: dataItem[1].name,\r\n              coords: [fromCoord, toCoord],\r\n            });\r\n          }\r\n        }\r\n        return res;\r\n      };\r\n      var series = [];\r\n      [[\"湘潭大学\", Data]].forEach(function (item, i) {\r\n        var color = \"\";\r\n        // console.log(item[0] +'***'+ item[1]);\r\n        // item[1].map(function (dataItem){\r\n        // \tconsole.log(dataItem[1].name);\r\n        // })\r\n        //item[1]===Data\r\n        series.push(\r\n          {\r\n            name: item[0],\r\n            type: \"lines\",\r\n            coordinateSystem: \"bmap\",\r\n            zlevel: 1,\r\n            effect: {\r\n              show: true,\r\n              period: 7, //特效动画的时间，单位为 s。\r\n              trailLength: 0.8, //特效尾迹的长度\r\n              color: \"#03fed2\",\r\n              symbolSize: 2,\r\n            },\r\n            lineStyle: {\r\n              // normal: {\r\n              color: \"#03fed2\",\r\n              width: 0,\r\n              curveness: 0.2, //边的曲度，支持从 0 到 1 的值，值越大曲度越大\r\n              // }\r\n            },\r\n            data: convertData(item[1]),\r\n          },\r\n          {\r\n            name: item[0],\r\n            type: \"lines\",\r\n            coordinateSystem: \"bmap\",\r\n            zlevel: 2,\r\n            effect: {\r\n              show: true,\r\n              period: 6, //特效动画的时间，单位为 s。\r\n              trailLength: 0, //特效尾迹的长度\r\n            },\r\n            lineStyle: {\r\n              // normal: {\r\n              color: \"#03fed2\",\r\n              width: 1,\r\n              opacity: 0.4,\r\n              curveness: 0.2,\r\n              // }\r\n            },\r\n            data: convertData(item[1]),\r\n          },\r\n          {\r\n            name: \"详细信息\",\r\n            type: \"effectScatter\", //带有涟漪特效动画的气泡图\r\n            coordinateSystem: \"bmap\",\r\n            zlevel: 2,\r\n            rippleEffect: {\r\n              //涟漪特效配置\r\n              brushType: \"stroke\", //波纹配置方式\r\n            },\r\n            label: {\r\n              //图形上的文本标签\r\n              // normal: {\r\n              show: true,\r\n              position: \"right\",\r\n              formatter: \"{b}\", //字符串模板：数据名\r\n              // }\r\n            },\r\n            symbolSize: function (val) {\r\n              return val[2] / 5;\r\n            },\r\n            data: item[1].map(function (dataItem) {\r\n              return {\r\n                name: dataItem[1].name,\r\n                value: geoCoordMap[dataItem[1].name].concat([\r\n                  dataItem[1].value,\r\n                ]),\r\n                itemStyle: {\r\n                  // normal: {\r\n                  color: dataItem[1].color,\r\n                  // }\r\n                },\r\n              };\r\n            }),\r\n          }\r\n        );\r\n      });\r\n\r\n      var option = {\r\n        tooltip: {\r\n          trigger: \"item\",\r\n          // position: 'left',\r\n          formatter: function (data) {\r\n            // console.log(data)\r\n            var line1 = data.seriesName + \"<br/>\";\r\n            var line2 = \"热点名：\" + data.name + \"<br/>\";\r\n            var res;\r\n            if (data.componentSubType == \"lines\") {\r\n              res = \"\";\r\n            } else {\r\n              var arr = geoCoordMap[data.name];\r\n              var line3 = \"经纬度：\" + arr[0] + \",\" + arr[1] + \"<br/>\";\r\n              var line4 = \"能源综合值：\" + data.value[2];\r\n              res = line1 + line2 + line3 + line4;\r\n            }\r\n            return res;\r\n          },\r\n          confine: true, //是否将 tooltip 框限制在图表的区域内。\r\n          appendToBody: true, //是否将 tooltip 的 DOM 节点添加为 HTML 的 <body> 的子节点。只有当 renderMode 为 'html' 是有意义的。\r\n        },\r\n        bmap: {\r\n          roam: true,\r\n          silent: true,\r\n          mapStyle: {\r\n            styleJson: [\r\n              {\r\n                featureType: \"water\",\r\n                elementType: \"all\",\r\n                stylers: {\r\n                  color: \"#031628\",\r\n                },\r\n              },\r\n              {\r\n                featureType: \"land\",\r\n                elementType: \"geometry\",\r\n                stylers: {\r\n                  color: \"#000102\",\r\n                },\r\n              },\r\n              {\r\n                featureType: \"highway\",\r\n                elementType: \"all\",\r\n                stylers: {\r\n                  visibility: \"off\",\r\n                },\r\n              },\r\n              {\r\n                featureType: \"arterial\",\r\n                elementType: \"geometry.fill\",\r\n                stylers: {\r\n                  color: \"#000000\",\r\n                },\r\n              },\r\n              {\r\n                featureType: \"arterial\",\r\n                elementType: \"geometry.stroke\",\r\n                stylers: {\r\n                  color: \"#0b3d51\",\r\n                },\r\n              },\r\n              {\r\n                featureType: \"local\",\r\n                elementType: \"geometry\",\r\n                stylers: {\r\n                  color: \"#000000\",\r\n                },\r\n              },\r\n              {\r\n                featureType: \"railway\",\r\n                elementType: \"geometry.fill\",\r\n                stylers: {\r\n                  color: \"#000000\",\r\n                },\r\n              },\r\n              {\r\n                featureType: \"railway\",\r\n                elementType: \"geometry.stroke\",\r\n                stylers: {\r\n                  color: \"#08304b\",\r\n                },\r\n              },\r\n              {\r\n                featureType: \"subway\",\r\n                elementType: \"geometry\",\r\n                stylers: {\r\n                  lightness: -70,\r\n                },\r\n              },\r\n              {\r\n                featureType: \"building\",\r\n                elementType: \"geometry.fill\",\r\n                stylers: {\r\n                  color: \"#000000\",\r\n                },\r\n              },\r\n              {\r\n                featureType: \"all\",\r\n                elementType: \"labels.text.fill\",\r\n                stylers: {\r\n                  color: \"#857f7f\",\r\n                },\r\n              },\r\n              {\r\n                featureType: \"all\",\r\n                elementType: \"labels.text.stroke\",\r\n                stylers: {\r\n                  color: \"#000000\",\r\n                },\r\n              },\r\n              {\r\n                featureType: \"building\",\r\n                elementType: \"geometry\",\r\n                stylers: {\r\n                  color: \"#022338\",\r\n                },\r\n              },\r\n              {\r\n                featureType: \"green\",\r\n                elementType: \"geometry\",\r\n                stylers: {\r\n                  color: \"#062032\",\r\n                },\r\n              },\r\n              {\r\n                featureType: \"boundary\",\r\n                elementType: \"all\",\r\n                stylers: {\r\n                  color: \"#465b6c\",\r\n                },\r\n              },\r\n              {\r\n                featureType: \"manmade\",\r\n                elementType: \"all\",\r\n                stylers: {\r\n                  color: \"#022338\",\r\n                },\r\n              },\r\n              {\r\n                featureType: \"label\",\r\n                elementType: \"all\",\r\n                stylers: {\r\n                  visibility: \"off\",\r\n                },\r\n              },\r\n              {\r\n                featureType: \"poi\",\r\n                elementType: \"all\",\r\n                stylers: {\r\n                  color: \"#03FED2\",\r\n                  visibility: \"off\",\r\n                },\r\n              },\r\n            ],\r\n          },\r\n        },\r\n        series: series,\r\n      };\r\n\r\n      var option1 = {\r\n        title: {\r\n          text: \"能源热点漏斗图\",\r\n          left: \"center\",\r\n          top: \"4%\",\r\n          textStyle: {\r\n            color: \"#fff\",\r\n            textBorderColor: \"#95a2ff\",\r\n            textBorderWidth: \"2\",\r\n            textShadowColor: \"#95a2ff\",\r\n            textShadowBlur: 2,\r\n          },\r\n        },\r\n        tooltip: {\r\n          trigger: \"item\",\r\n          formatter: \"{a} <br/>{b} : {c}%\",\r\n        },\r\n        legend: {\r\n          show: true,\r\n          bottom: 0,\r\n          left: \"2%\",\r\n          textStyle: {\r\n            color: \"#eee\",\r\n          },\r\n          orient: \"vertical\",\r\n        },\r\n        series: [\r\n          {\r\n            name: \"能源热点漏斗图\",\r\n            type: \"funnel\",\r\n            left: \"10%\",\r\n            bottom: 0,\r\n            width: \"80%\",\r\n            min: 0,\r\n            max: 100,\r\n            minSize: \"0%\",\r\n            maxSize: \"100%\",\r\n            sort: \"descending\",\r\n            gap: 2,\r\n            label: {\r\n              show: true,\r\n              position: \"inner\",\r\n              textStyle: {\r\n                color: \"#eee\",\r\n                textBorderColor: \"#000\",\r\n                textBorderWidth: \"2\",\r\n                textShadowColor: \"#000\",\r\n                textShadowBlur: 1,\r\n              },\r\n            },\r\n            labelLine: {\r\n              length: 10,\r\n              lineStyle: {\r\n                width: 1,\r\n                type: \"solid\",\r\n              },\r\n            },\r\n            itemStyle: {\r\n              borderColor: \"#fff\",\r\n              borderWidth: 1,\r\n            },\r\n            emphasis: {\r\n              label: {\r\n                fontSize: 20,\r\n              },\r\n            },\r\n            data: val.funnelData,\r\n          },\r\n        ],\r\n      };\r\n\r\n      this.chartObj.setOption(option);\r\n      this.chartObj1.setOption(option1);\r\n      var map = this.chartObj.getModel().getComponent(\"bmap\").getBMap();\r\n      map.disableDoubleClickZoom();\r\n      map.centerAndZoom(new BMap.Point(112.870634, 27.887929), 14); // 初始化地图121.39908,31.177505\r\n    },\r\n  },\r\n  created() {\r\n    var _this = this;\r\n    this.$http\r\n      .get(\"http://localhost:8888/hostmap/data\")\r\n      .then(function (res) {\r\n        _this.hostmapData = res.data.hostmapData;\r\n        // console.log(res.data.hostmapData)\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  },\r\n  mounted() {\r\n    var hostmap = document.getElementById(\"hostMap\");\r\n    hostmap.style.width = window.innerWidth + \"px\";\r\n    hostmap.style.height = window.innerHeight * 0.9 + \"px\";\r\n    var myChart = this.$echarts.init(hostmap);\r\n    var funnelContainer = document.getElementById(\"funnelContainer\");\r\n    var myChart1 = this.$echarts.init(funnelContainer);\r\n    this.chartObj = myChart;\r\n    this.chartObj1 = myChart1;\r\n    // myChart.on('dblclick',function(params){\r\n    // \tconsole.log(params);\r\n    // })\r\n\r\n    window.onresize = function () {\r\n      myChart.resize(); //图表自适应\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#funnelContainer {\r\n  width: 400px;\r\n  height: 450px;\r\n  position: absolute;\r\n  left: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  border: 2px solid #00ccff;\r\n  border-left: none;\r\n  border-radius: 0 10px 10px 0;\r\n  box-shadow: -4px -5px 36px rgba(159, 158, 156, 0.6);\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/echarts/hostMap.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"hostMap\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"funnelContainer\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0cfc85ce\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/echarts/hostMap.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0cfc85ce\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./hostMap.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./hostMap.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./hostMap.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0cfc85ce\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./hostMap.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0cfc85ce\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/echarts/hostMap.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}